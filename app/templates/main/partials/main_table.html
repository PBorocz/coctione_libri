{% if message %}
<h2>{{ message }} </h2>
{% else %}

<table
  id="table_documents"
  class="table is-bordered is-striped is-responsive is-hoverable is-fullwidth table-sort table-arrows no-class-infer"
>
  <caption
    style="caption-side: top; text-align: left;"
    class="is-family-monospace"
  >
    {% if documents %}
    {% if search %}
    {{ documents|length }} Recipes matched
    {% else %}
    {{ documents|length }} Total Recipes
    {% endif %}
    {% else %}
    Sorry, no documents meet your search criteria: <span class="is-italic">{{ search }}</span>.
    {% endif %}
  </caption>

  {% if documents %}
  <thead style="font-family: 'Raleway', sans-serif;">
    <tr class="has-background-grey-dark">

      {# ######################## #}
      {# Quality                  #}
      {# ######################## #}
      <th
        scope="col"
        class="has-text-white has-text-centered has-tooltip-arrow has-tooltip-bottom has-tooltip-info"
      >
        Q
      </th>

      {# ######################## #}
      {# Complexity               #}
      {# ######################## #}
      <th
        scope="col"
        class="has-text-white has-text-centered has-tooltip-arrow has-tooltip-bottom has-tooltip-info"
      >
        C
      </th>

      {# ######################## #}
      {# Title        	      #}
      {# ######################## #}
      <th
	scope="col"
	class="has-text-white"
      >
	Title
      </th>

      {# ######################## #}
      {# Tags         	      #}
      {# ######################## #}
      <th
	scope="col"
	class="has-text-white"
      >
	Tags
      </th>

      {# ######################## #}
      {# Source        	      #}
      {# ######################## #}
      <th
	scope="col"
	class="has-text-white"
      >
	Source
      </th>

      {# ######################## #}
      {# Edit?                    #}
      {# ######################## #}
      <th
	scope="col"
	class="disable-sort"
      ></th>

      {# ######################## #}
      {# Delete?                  #}
      {# ######################## #}
      <th
	scope="col"
	class="disable-sort"
      ></th>

    </tr>
  </thead>

  <tbody>
    {% for document in documents %}
    <tr style="background-color: white;">

      {# Quality #}
      <td class="has-text-centered" style="vertical-align: middle;" data-sort="{{ document.quality }}">
        {{ document.quality | default(0, true) }}
	{% if document.quality %}
	{{ document.quality_enum }}
	{% endif %}
      </td>

      {# Complexity #}
      <td class="has-text-centered" style="vertical-align: middle;" data-sort="{{ document.complexity }}">
        {{ document.complexity | default(0, true) }}
	{% if document.complexity %}
	{{ document.complexity_enum }}
	{% endif %}
      </td>

      {# Title #}
      <td style="vertical-align: middle;">
        <a href="/view/{{ document.id }}">
	  {{ document.title }}
	</a>
      </td>

      {# Tag(s) #}
      <td style="vertical-align: middle;">
	<div class="tags">
	  {% for tag in document.tags|sort %}
	  <span class="tag is-rounded is-light">{{ tag  }}</span>
	  {% endfor %}
	</div>
        {# document.tags|sort|join(", ") #}
      </td>

      {# Source #}
      <td style="vertical-align: middle;">
        {{ document.source | default("", true) }}
      </td>

      {# Edit Icon #}
      <td class="has-text-centered"  style="vertical-align: middle;">
        <a href="/edit/{{ document.id }}">
	  <span class="icon is-small is-right is-size-6">
	    <i class="fa-regular fa-pen-to-square"></i>
	  </span>
	</a>
      </td>

      {# Delete Icon #}
      <td class="has-text-centered"  style="vertical-align: middle;">
	<a
	  class="confirm-beforehand"
	  href="/delete/{{ document.id }}"
	>
	  {# onclick="return confirm('Are you sure you want to delete: {{ document.title }}?');" #}
	  <span class="icon is-small is-right is-size-6">
	    <i class="fa-regular fa-trash-can"></i>
	  </span>
	</a>
      </td>

    </tr>
    {% endfor %}
  </tbody>
  {% endif %}
</table>
{% endif %}
